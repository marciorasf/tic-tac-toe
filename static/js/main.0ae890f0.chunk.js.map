{"version":3,"sources":["index.js"],"names":["PlayerInput","props","inputId","playerId","className","htmlFor","id","name","type","defaultValue","playerName","squaresDefault","Array","fill","undefined","Board","squares","onClick","htmlSquares","i","push","key","this","isEnded","createSquares","React","Component","Game","state","players","X","O","isPlaying","xIsNext","event","persist","preventDefault","target","elements","value","setState","index","resetGame","calculateWinner","onSubmit","evt","handleNamesSubmit","status","winner","handleSquareClick","renderGame","renderPreGame","Layout","lines","length","a","b","c","filter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0ae890f0.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./css/index.css\";\r\nimport \"./css/reset.css\";\r\n\r\nfunction PlayerInput(props) {\r\n\tconst inputId = `inputPlayer${props.playerId}`;\r\n\treturn (\r\n\t\t<div className=\"player-input\">\r\n\t\t\t<label htmlFor={inputId}>{props.playerId}:</label>\r\n\t\t\t<input id={inputId} name={inputId} type=\"text\" defaultValue={props.playerName} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst squaresDefault = () => Array(9).fill(undefined);\r\n\r\nclass Board extends React.Component {\r\n\tcreateSquares(squares, onClick) {\r\n\t\tlet htmlSquares = [];\r\n\t\tfor (let i = 0; i < 9; i++) {\r\n\t\t\thtmlSquares.push(\r\n\t\t\t\t<button key={i} className=\"square\" onClick={() => onClick(i)}>\r\n\t\t\t\t\t{squares[i]}\r\n\t\t\t\t</button>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn htmlSquares;\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet className = \"board \" + (this.props.isEnded ? \"is-inactive\" : \"is-active\");\r\n\t\treturn <div className={className}>{this.createSquares(this.props.squares, this.props.onClick)}</div>;\r\n\t}\r\n}\r\n\r\nclass Game extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tplayers: {\r\n\t\t\t\tX: { name: \"Player 1\" },\r\n\t\t\t\tO: { name: \"Player 2\" }\r\n\t\t\t},\r\n\t\t\tisPlaying: true,\r\n\t\t\tsquares: squaresDefault(),\r\n\t\t\txIsNext: true,\r\n\t\t\tisEnded: false\r\n\t\t};\r\n\t}\r\n\r\n\thandleNamesSubmit(event) {\r\n\t\tevent.persist();\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst players = this.state.players;\r\n\t\tplayers[\"X\"].name = event.target.elements[\"inputPlayerX\"].value;\r\n\t\tplayers[\"O\"].name = event.target.elements[\"inputPlayerO\"].value;\r\n\r\n\t\tthis.setState({\r\n\t\t\tplayers: players,\r\n\t\t\tsquares: squaresDefault(),\r\n\t\t\tisPlaying: true\r\n\t\t});\r\n\t}\r\n\r\n\thandleSquareClick(index) {\r\n\t\tconst squares = this.state.squares;\r\n\t\tif (this.state.isEnded) {\r\n\t\t\tthis.resetGame();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (squares[index]) return;\r\n\r\n\t\tsquares[index] = this.state.xIsNext ? \"X\" : \"O\";\r\n\t\tthis.setState({\r\n\t\t\tsquares: squares,\r\n\t\t\txIsNext: !this.state.xIsNext,\r\n\t\t\tisEnded: calculateWinner(squares) ? true : false\r\n\t\t});\r\n\t}\r\n\r\n\tresetGame() {\r\n\t\tthis.setState({\r\n\t\t\tsquares: squaresDefault(),\r\n\t\t\txIsNext: true,\r\n\t\t\tisEnded: false\r\n\t\t});\r\n\t}\r\n\r\n\trenderPreGame() {\r\n\t\treturn (\r\n\t\t\t<form className=\"game-container\" onSubmit={evt => this.handleNamesSubmit(evt)}>\r\n\t\t\t\t<PlayerInput playerId={\"X\"} playerName={this.state.players[\"X\"].name} />\r\n\t\t\t\t<PlayerInput playerId={\"O\"} playerName={this.state.players[\"O\"].name} />\r\n\t\t\t\t<button className=\"btn btn--play\" type=\"submit\">\r\n\t\t\t\t\tPlay\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n\r\n\trenderGame() {\r\n\t\tlet status;\r\n\t\tconst winner = calculateWinner(this.state.squares);\r\n\r\n\t\tif (winner) status = winner === \"T\" ? `TIE` : `${this.state.players[winner].name} Won`;\r\n\t\telse status = \"Turn: \" + (this.state.xIsNext ? this.state.players[\"X\"].name : this.state.players[\"O\"].name);\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"game-container\">\r\n\t\t\t\t<span className=\"status\">{status}</span>\r\n\t\t\t\t<Board squares={this.state.squares} isEnded={this.state.isEnded} onClick={i => this.handleSquareClick(i)} />\r\n\t\t\t\t<button className=\"btn btn--change-players\" onClick={() => this.setState({ isPlaying: false, isEnded: false })}>\r\n\t\t\t\t\tChange players\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn this.state.isPlaying ? this.renderGame() : this.renderPreGame();\r\n\t}\r\n}\r\n\r\nclass Layout extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"content-container\">\r\n\t\t\t\t<div className=\"header\">\r\n\t\t\t\t\t<span className=\"title\">tic tac toe</span>\r\n\t\t\t\t\t<span className=\"subtitle\">@marciorasf</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Game />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nReactDOM.render(<Layout />, document.getElementById(\"root\"));\r\n\r\nfunction calculateWinner(squares) {\r\n\tconst lines = [\r\n\t\t[0, 1, 2],\r\n\t\t[3, 4, 5],\r\n\t\t[6, 7, 8],\r\n\t\t[0, 3, 6],\r\n\t\t[1, 4, 7],\r\n\t\t[2, 5, 8],\r\n\t\t[0, 4, 8],\r\n\t\t[2, 4, 6]\r\n\t];\r\n\tfor (let i = 0; i < lines.length; i++) {\r\n\t\tconst [a, b, c] = lines[i];\r\n\t\tif (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\r\n\t\t\treturn squares[a];\r\n\t\t}\r\n\t}\r\n\r\n\tconst checkedSquares = squares.filter(i => i === undefined);\r\n\tif (checkedSquares.length === 0) return \"T\";\r\n\r\n\treturn null;\r\n}\r\n"],"sourceRoot":""}